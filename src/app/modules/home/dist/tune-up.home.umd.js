!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/common/http"),require("@tune-up/core"),require("@tune-up/app")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/router","@angular/common/http","@tune-up/core","@tune-up/app"],t):t((e.tuneUp=e.tuneUp||{},e.tuneUp.home={}),e.tuneUp.vendor.ngCore,e.tuneUp.vendor.ngRouter,e.tuneUp.vendor.ngCommonHttp,e.tuneUp.app,e.tuneUp.app)}(this,function(e,t,i,n,o,r){"use strict";function __$styleInject(e,t){if("undefined"==typeof document)return t;e=e||"";var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t}function _initDefineProp(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,i,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function _initDefineProp$1(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _applyDecoratedDescriptor$1(e,t,i,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function _initDefineProp$2(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _applyDecoratedDescriptor$2(e,t,i,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}!function(){function AwaitValue(e){this.value=e}function AsyncGenerator(e){function resume(t,i){try{var n=e[t](i),o=n.value;o instanceof AwaitValue?Promise.resolve(o.value).then(function(e){resume("next",e)},function(e){resume("throw",e)}):settle(n.done?"return":"normal",n.value)}catch(e){settle("throw",e)}}function settle(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?resume(t.key,t.arg):i=null}var t,i;this._invoke=function send(e,n){return new Promise(function(o,r){var a={key:e,arg:n,resolve:o,reject:r,next:null};i?i=i.next=a:(t=i=a,resume(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)}}();var a,s,l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),c=(a=t.Injectable())(s=function(){function UtListService(e){l(this,UtListService),this._http=e,this._url="SeguimientosKanban"}return u(UtListService,[{key:"get",value:function get$$1(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ALL",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ALL",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ALL";return this._http.get(this._url+"?idActividad="+e+"&idAgente="+t+"&idProducto="+i+"&idVersion="+n+"&idProyecto="+o)}}]),UtListService}())||s;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],c);var d,p,h=(d=t.Injectable())(p=function(){function AgentPicService(e){l(this,AgentPicService),this._http=e,this._url="Agentes/Imagen"}return u(AgentPicService,[{key:"get",value:function get$$1(e,t){return this._http.get(this._url+"/"+e+"/"+t,{responseType:"blob"})}}]),AgentPicService}())||p;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],h);var f,g,v=(f=t.Injectable())(g=function(){function KanbanActivitiesService(e){l(this,KanbanActivitiesService),this._http=e,this._url="ActividadesKanban2"}return u(KanbanActivitiesService,[{key:"get",value:function get$$1(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ALL",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ALL",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ALL";return this._http.get(this._url+"?idActividad="+e+"&idAgente="+t+"&idProducto="+i+"&idVersion="+n+"&idProyecto="+o)}}]),KanbanActivitiesService}())||g;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],v);var b,_,m=(b=t.Injectable())(_=function(){function UpdateKanbanResumeService(){l(this,UpdateKanbanResumeService),this._updateKanban=this._updateKanban}return u(UpdateKanbanResumeService,[{key:"update",value:function update(){this._updateKanban()}},{key:"init",set:function set$$1(e){this._updateKanban=e}}]),UpdateKanbanResumeService}())||_;__$styleInject(".tn-home__utlist{margin:16px;text-align:center}@media (min-width:960px){.tn-home__utlist{width:65%}}.tn-home__kanbanresume{margin:16px}@media (min-width:960px){.tn-home__kanbanresume{width:35%}}.tn-home__utfilter{margin:16px}.tn-home{display:flex}.tn-home__kanban{display:flex;flex-direction:column}@media (min-width:960px){.tn-home__kanban{flex-direction:row}}",void 0);var y,S,A=(y=t.Component({selector:"tn-home",template:'<div class="tn-home vertical">\n  <tn-ut-filter class="tn-home__utfilter" [filtro]="globalFilter" [filterUts]="filterUts"></tn-ut-filter>\n  <div class="tn-home__kanban">\n      <tn-kanban-resume class="tn-home__kanbanresume" [filtro]="globalFilter" [filterUts]="filterUts"></tn-kanban-resume>\n      <tn-ut-list class="tn-home__utlist" [uts]="utsToShow" [isLoadingUTs]="isLoadingUTs"></tn-ut-list>\n  </div>\n</div>\n',providers:[c,m]}))(S=function(){function HomeComponent(e,t,i){var n=this;l(this,HomeComponent),this.utsToShow=[],this.globalFilter={IdAgente:"ALL",IdProducto:"ALL",IdVersion:"ALL",IdProyecto:"ALL",IdActividad:"ALL"},this.isLoadingUTs=!1,this.filterUts=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(n.globalFilter.IdActividad="ALL",n._updateKanbanService.update()),n._getUts(n.globalFilter.IdActividad,n.globalFilter.IdAgente,n.globalFilter.IdProducto,n.globalFilter.IdVersion,n.IdProyecto)},this._utListService=e,this._notificationsService=i,this._updateKanbanService=t,this._getUts()}return u(HomeComponent,[{key:"_getUts",value:function _getUts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ALL",n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ALL",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ALL";this.isLoadingUTs=!0,this._getUtsSubscription=this._utListService.get(e,t,i,o,r).subscribe(function(e){n.utsToShow=e,n.isLoadingUTs=!1},function(e){return n._notificationsService.error("No se pudieron obtener las UTs",e)})}},{key:"ngOnDestroy",value:function ngOnDestroy(){this._getUtsSubscription&&!this._getUtsSubscription.closed&&this._getUtsSubscription.unsubscribe()}}]),HomeComponent}())||S;Reflect.defineMetadata("design:paramtypes",[c,m,o.NotificationsService],A);var L,P,I=(L=t.NgModule({imports:[i.RouterModule.forChild([{path:"",component:A}])],exports:[i.RouterModule]}))(P=function HomeRoutingModule(){l(this,HomeRoutingModule)})||P;__$styleInject(".tn-home-kanban_resume--span{overflow:auto;display:block;padding:0!important;margin:0}",void 0);var C,U,w,k,T,D,z,x=(C=t.Component({selector:"tn-kanban-resume",template:'<div class ="horizontal">\n    <p-dataTable [value]="kanbanActivities" [responsive]="true" selectionMode="single" (onRowSelect)="filterKanbanActivies($event.data.IdActividad)">\n        <p-column header="Actividad" field="NombreActividad"></p-column>       \n        <p-column header="To Do" field="NumSeguimientosPendiente" [style]="{\'width\':\'20%\'}"></p-column>   \n        <p-column header="Doing" field="NumSeguimientosProgreso"  [style]="{\'width\':\'20%\'}"></p-column>                \n    </p-dataTable>\n</div>\n',providers:[v]}),U=t.Input(),w=t.Input(),C((T=function(){function KanbanResumeComponent(e,t,i){var n=this;l(this,KanbanResumeComponent),this.kanbanActivities=[],this.selectedActivity=void 0,_initDefineProp(this,"filterUts",D,this),_initDefineProp(this,"filtro",z,this),this._activitiesService=e,this._notificationsService=t,this._updateKanbanResumeService=i,this._updateKanbanResumeService.init=function(){n._getKanbanActivities()}}return u(KanbanResumeComponent,[{key:"ngOnInit",value:function ngOnInit(){this._getKanbanActivities()}},{key:"_getKanbanActivities",value:function _getKanbanActivities(){var e=this;this._getActivitiesSubscription=this._activitiesService.get("ALL",this.filtro.IdAgente,this.filtro.IdProducto,this.filtro.IdVersion,this.filtro.IdProyecto).subscribe(function(t){e.kanbanActivities=t},function(t){return e._notificationsService.error("No se pudieron obtener las actividades del Kanban Resumido",t)})}},{key:"filterKanbanActivies",value:function filterKanbanActivies(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";-1==e&&(e="ALL"),this.filtro.IdActividad=e,this.filterUts(!0)}},{key:"ngOnDestroy",value:function ngOnDestroy(){this._getActivitiesSubscription&&!this._getActivitiesSubscription.closed&&this._getActivitiesSubscription.unsubscribe()}}]),KanbanResumeComponent}(),D=_applyDecoratedDescriptor(T.prototype,"filterUts",[U],{enumerable:!0,initializer:function initializer(){return this.filterUts}}),z=_applyDecoratedDescriptor(T.prototype,"filtro",[w],{enumerable:!0,initializer:function initializer(){return this.filtro}}),k=T))||k);Reflect.defineMetadata("design:paramtypes",[v,o.NotificationsService,m],x);__$styleInject(".tn-home__utlist__searchbar{padding:16px;border-bottom:0}.tn_home__utlist__searchbar__icon{margin-top:4px;margin-right:8px}.tn-home__utlist__searchbar__input{width:100%}.tn-home__utlist__agent__pic{width:30px;height:30px}",void 0);var $,R,K,M,j,N,G,O={1:"fa fa-star",2:"fa fa-bug",3:"fa fa-plus-circle",4:"fa fa-puzzle-piece"},H={1:"fa fa-arrow-up",2:"fa fa-repeat",3:"fa fa-cog",4:"fa fa-undo",5:"fa fa-refresh"},F={},V=($=t.Component({selector:"tn-ut-list",template:'\x3c!-- TODO: add placeholders and make global filter work with strings in place of ids --\x3e\n<div class="ui-widget-header none horizontal tn-home__utlist__searchbar">\n  <i class="fa fa-search none tn_home__utlist__searchbar__icon"></i>\n  <input #gb type="text" pInputText size="50" class="tn-home__utlist__searchbar__input" placeholder="Búsqueda global">\n</div>\n<p-dataTable [value]="uts" [rows]="20" [paginator]="true" scrollable="true" scrollHeight="250%" [pageLinks]="5" [sortMode]="multiple" [loading]="isLoadingUTs" loadingIcon="fa-spinner" [globalFilter]="gb" reorderableColumns="true"\n  [responsive]="true">\n  <p-column [style]="{\'width\':\'10%\'}" field="Estado" header="Estado" [sortable]="true">\n    <ng-template let-ut="rowData" pTemplate="body">\n      <span class="ui-button-icon" [ngClass]="getUtTypeIcon(ut)"></span>\n      <span class="ui-button-icon" [ngClass]="getStateIcon(ut)"></span>\n    </ng-template>\n  </p-column>\n  <p-column [style]="{\'width\':\'10%\'}" field="IdAgente" header="Agente" [sortable]="true">\n    <ng-template let-ut="rowData" pTemplate="body">\n      <img *ngIf="ut.IdAgente && ut.IdAgente !== -1" class="tn-home__utlist__agent__pic" [src]="getAgentPic(ut) | safeHtml">\n      <i *ngIf="ut.IdAgente === -1" class="fa fa-2x fa-users"></i>\n    </ng-template>\n  </p-column>\n  <p-column [style]="{\'width\':\'30%\'}" field="NombreProducto" header="Producto/Servicio" [sortable]="true"></p-column>\n  <p-column [style]="{\'width\':\'10%\'}" field="NombreVersion" header="Sprint" [sortable]="true"></p-column>\n  <p-column [style]="{\'width\':\'10%\'}" field="IdUT" header="Código" [sortable]="true">\n    <ng-template let-ut="rowData" pTemplate="body">\n      <a class="ui-cell-data" [routerLink]="getUtLink(ut)">{{ut.IdUT}}</a>\n    </ng-template>\n  </p-column>\n  <p-column [style]="{\'width\':\'30%\'}" field="NombreUT" header="Nombre" [sortable]="true"></p-column>\n</p-dataTable>\n',providers:[h]}),R=t.Input(),K=t.Input(),$((j=function UtListComponent(e,t,i){var n=this;l(this,UtListComponent),_initDefineProp$1(this,"uts",N,this),_initDefineProp$1(this,"isLoadingUTs",G,this),this.getAgentPic=function(e){var t=e.IdAgente;if(t){var i=n._agentService.getSiteId();return F[t]||n._agentPicService.get(t,i).subscribe(function(e){F[t]=URL.createObjectURL(e)}),F[t]||""}return""},this.getUtTypeIcon=function(e){return O[e.IdTipoUT]},this.getStateIcon=function(e){return H[e.IdTipoSeguimiento]},this.getUtLink=function(e){return"/uts/"+e.IdUT},this._agentPicService=e,this._notificationsService=t,this._agentService=i},N=_applyDecoratedDescriptor$1(j.prototype,"uts",[R],{enumerable:!0,initializer:function initializer(){return this.uts}}),G=_applyDecoratedDescriptor$1(j.prototype,"isLoadingUTs",[K],{enumerable:!0,initializer:function initializer(){return this.isLoadingUTs}}),M=j))||M);Reflect.defineMetadata("design:paramtypes",[h,o.NotificationsService,o.AgentService],V);var E,q,B=(E=t.Injectable())(q=function(){function GetProductosService(e){l(this,GetProductosService),this._http=e,this._url="Productos2"}return u(GetProductosService,[{key:"get",value:function get$$1(){return this._http.get(""+this._url)}}]),GetProductosService}())||q;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],B);var J,Q,W=(J=t.Injectable())(Q=function(){function GetProyectosService(e){l(this,GetProyectosService),this._http=e,this._url="Productos"}return u(GetProyectosService,[{key:"get",value:function get$$1(e){return this._http.get(this._url+"/"+e+"/Proyectos")}}]),GetProyectosService}())||Q;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],W);var X,Y,Z=(X=t.Injectable())(Y=function(){function GetSprintsProductoService(e){l(this,GetSprintsProductoService),this._http=e,this._url="Sprints2"}return u(GetSprintsProductoService,[{key:"get",value:function get$$1(e){return this._http.get(this._url+"/"+e)}}]),GetSprintsProductoService}())||Y;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],Z);var ee,te,ie=(ee=t.Injectable())(te=function(){function GetColaboradoresService(e){l(this,GetColaboradoresService),this._http=e,this._url="Agentes"}return u(GetColaboradoresService,[{key:"get",value:function get$$1(e){return this._http.get(this._url+"/"+e+"/Colaboradores")}}]),GetColaboradoresService}())||te;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],ie);var ne,oe,re=(ne=t.Injectable())(oe=function(){function GetColaboradoresProductoService(e){l(this,GetColaboradoresProductoService),this._http=e,this._url="Productos"}return u(GetColaboradoresProductoService,[{key:"get",value:function get$$1(e){return this._http.get(this._url+"/"+e+"/Agentes")}}]),GetColaboradoresProductoService}())||oe;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],re);__$styleInject(".tn-home__form{padding:16px;flex-wrap:wrap}.tn-home__form__section{padding:8px}.tn-home__form__dropdown{width:100%}.tn-home__form__input{width:25%}.tn-home__form__button{margin-left:8px}",void 0);var ae,se,le,ue,ce,de,pe,he=[],fe=[],ge=[],ve=(ae=t.Component({selector:"tn-ut-filter",template:'<form class="tn-home__form horizontal">\n  <div class="vertical two tn-home__form__section">\n    <label>Agente</label>\n    <p-dropdown [options]="agentes" optionLabel="name" [(ngModel)]="filtro.IdAgente" [style]="{\'width\':\'100%\'}" (onChange)="onFilterChange()" filter="true" name="agente"></p-dropdown>\n  </div>\n  <div class="vertical two tn-home__form__section">\n    <label>Producto</label>\n    <p-dropdown [options]="productos" optionLabel="name" [(ngModel)]="filtro.IdProducto" [style]="{\'width\':\'100%\'}" filter="true" name="producto" (onChange)="onProductChanged($event.value)"></p-dropdown>\n  </div>\n  <div class="vertical two tn-home__form__section">\n    <label>Sprint</label>\n    <p-dropdown [options]="sprints" optionLabel="name" [(ngModel)]="filtro.IdVersion" [disabled]="noProductoSelected" [style]="{\'width\':\'100%\'}" (onChange)="onFilterChange()" filter="true" name="sprint"></p-dropdown>\n  </div>\n  <div class="vertical two tn-home__form__section">\n    <label>Proyecto</label>\n    <p-dropdown [options]="proyectos" optionLabel="name" [(ngModel)]="filtro.IdProyecto" [disabled]="noProductoSelected" [style]="{\'width\':\'100%\'}" (onChange)="onFilterChange()" filter="true" name="proyecto"></p-dropdown>\n  </div>\n  <div class="vertical one tn-home__form__section">\n    <label>Ir a...</label>\n    <div class="horizontal">\n      <input type="number" pInputText [(ngModel)]="IdUT" name="IdUT"/>\n      <button pButton type="button" class="tn-home__form__button" label="Ir" [disabled]="isIrAEmpty()"  (click)="irAUT()"></button>            \n    </div>\n  </div>\n</form>\n',providers:[ie,re,B,W,Z]}),se=t.Input(),le=t.Input(),ae((ce=function(){function UTFilterComponent(e,t,i,n,o,r,a,s){l(this,UTFilterComponent),_initDefineProp$2(this,"filterUts",de,this),_initDefineProp$2(this,"filtro",pe,this),this.noProductoSelected=!0,this.idUT="",this._getColaboradoresService=e,this._getColaboradoresProductoService=t,this._getProductosService=i,this._getProyectosService=n,this._getSprintsService=o,this._agentService=r,this._notificationService=a,this._router=s,this.agentes=[],this.productos=[],this.proyectos=[],this.sprints=[]}return u(UTFilterComponent,[{key:"ngOnInit",value:function ngOnInit(){this._getProductos(),this.agentes=this._getColaboradores(this._agentService.getAgentId(),"ALL"),this.proyectos=this.sprints=he.ALL=fe.ALL=[{label:"ALL",value:"ALL"}],this._seleccionarValoresPorDefecto()}},{key:"_getProductos",value:function _getProductos(){var e=this;this._getProductosSubscription=this._getProductosService.get().subscribe(function(t){e.productos=e._parseProductos(t)},function(t){return e._notificationService.error("No se han podido obtener los productos",t)})}},{key:"_getDatosProducto",value:function _getDatosProducto(e){this.proyectos=this._getProyectos(e),this.sprints=this._getSprints(e),this.agentes=this._getColaboradores(this._agentService.getAgentId(),e),this._seleccionarValoresPorDefecto()}},{key:"_parseProductos",value:function _parseProductos(e){var t=e.map(function(e){return{label:""+e.Nombre,value:e.IdProducto}});return t.push({label:"ALL",value:"ALL"}),t}},{key:"_getProyectos",value:function _getProyectos(e){var t=this;return he[e]||(this._getProyectoSubscription=this._getProyectosService.get(e).subscribe(function(i){he[e]=t._parseProyectos(i),t.proyectos=he[e],t.filtro.IdProyecto="ALL"},function(e){return t._notificationService.error("No se han podido obtener los proyectos del producto",e)})),he[e]}},{key:"_parseProyectos",value:function _parseProyectos(e){var t=e.map(function(e){return{label:""+e.Nombre,value:e.IdProyecto}});return t.push({label:"ALL",value:"ALL"}),t.push({label:"<Sin Proyecto>",value:0}),t}},{key:"_getSprints",value:function _getSprints(e){var t=this;return fe[e]||(this._getSprintsSubscription=this._getSprintsService.get(e).subscribe(function(i){fe[e]=t._parseSprints(i),t.sprints=fe[e],t.filtro.IdVersion="ALL"},function(e){t._notificationService.error("No se han podido obtener los Sprints del producto",e)})),fe[e]}},{key:"_parseSprints",value:function _parseSprints(e){var t=e.map(function(e){return-1==e.IdVersion?{label:"Backlog",value:0}:{label:e.Nombre,value:e.IdVersion}});return t.push({label:"ALL",value:"ALL"}),t}},{key:"_getColaboradores",value:function _getColaboradores(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL";return ge[t]||("ALL"===t?this._getColaboradoresSitio(t,e):this._getColaboradoresProducto(t)),ge[t]}},{key:"_getColaboradoresSitio",value:function _getColaboradoresSitio(e,t){var i=this;this._getColaboradoresSubscription=this._getColaboradoresService.get(t).subscribe(function(t){ge[e]=i._parseAgentes(t),i.agentes=ge[e],i.filtro.IdAgente="ALL"},function(e){return i._notificationService.error("No se han podido obtener los colaboradores del agente",e)})}},{key:"_getColaboradoresProducto",value:function _getColaboradoresProducto(e){var t=this;this._getColaboradoresProductoSubscription=this._getColaboradoresProductoService.get(e).subscribe(function(i){ge[e]=t._parseAgentes(i),t.agentes=ge[e],t.filtro.IdAgente="ALL"},function(e){return t._notificationService.error("No se han podido obtener los colaboradores del agente",e)})}},{key:"_parseAgentes",value:function _parseAgentes(e){var t=e.filter(function(e){return-1!=e.Id}).map(function(e){return{label:""+e.Nombre,value:e.Id}});return t.push({label:"ALL",value:"ALL"}),t}},{key:"_seleccionarValoresPorDefecto",value:function _seleccionarValoresPorDefecto(){this.filtro.IdAgente="ALL",this.filtro.IdProyecto="ALL",this.filtro.IdVersion="ALL"}},{key:"onProductChanged",value:function onProductChanged(e){this.noProductoSelected="ALL"==e,this._getDatosProducto(e),this._seleccionarValoresPorDefecto(),this.filterUts()}},{key:"onFilterChange",value:function onFilterChange(){this.filterUts()}},{key:"isIrAEmpty",value:function isIrAEmpty(){return null===this.idUT||this.IdUT<=0}},{key:"irAUT",value:function irAUT(){this._router.navigateByUrl("/uts/"+this.IdUT)}},{key:"ngOnDestroy",value:function ngOnDestroy(){this._getColaboradoresSubscription&&!this._getColaboradoresSubscription.closed&&this._getColaboradoresSubscription.unsubscribe(),this._getColaboradoresProductoSubscription&&!this._getColaboradoresProductoSubscription.closed&&this._getColaboradoresProductoSubscription.unsubscribe(),this._getProductosSubscription&&!this._getProductosSubscription.closed&&this._getProductosSubscription.unsubscribe(),this._getProyectoSubscription&&!this._getProyectoSubscription.closed&&this._getProyectoSubscription.unsubscribe(),this._getSprintsSubscription&&!this._getSprintsSubscription.closed&&this._getSprintsSubscription.unsubscribe()}}]),UTFilterComponent}(),de=_applyDecoratedDescriptor$2(ce.prototype,"filterUts",[se],{enumerable:!0,initializer:function initializer(){return this.filterUts}}),pe=_applyDecoratedDescriptor$2(ce.prototype,"filtro",[le],{enumerable:!0,initializer:function initializer(){return this.filtro}}),ue=ce))||ue);Reflect.defineMetadata("design:paramtypes",[ie,re,B,W,Z,r.AgentService,o.NotificationsService,i.Router],ve);var be,_e,me=(be=t.NgModule({imports:[o.TuneUpCoreModule,I],declarations:[A,x,V,ve]}))(_e=function HomeModule(){l(this,HomeModule)})||_e;e.HomeModule=me,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=tune-up.home.umd.js.map
