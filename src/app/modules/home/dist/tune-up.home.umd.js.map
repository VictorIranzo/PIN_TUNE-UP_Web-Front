{"version":3,"file":"tune-up.home.umd.js","sources":["../src/home.component.js","../src/home.routing.js","../src/components/kanbanresume/kanbanresume.component.js","../src/components/utlist/services/utlist.service.js","../src/components/utlist/services/agentpic.service.js","../src/components/utlist/utlist.component.js","../src/components/utlist/pic.sanitizer.js","../src/home.module.js"],"sourcesContent":["import {Component} from '@angular/core';\r\nimport html from './home.component.html';\r\nimport './home.component.css';\r\n\r\n@Component({\r\n  selector: 'tn-home',\r\n  template: html\r\n})\r\nexport class HomeComponent {}\r\n","import {RouterModule} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {HomeComponent} from './home.component';\n\n@NgModule({\n  imports: [RouterModule.forChild([{path: '', component: HomeComponent}])],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule {}\n","import {Component} from '@angular/core';\nimport html from './kanbanresume.component.html';\n// import './kanbanresume.component.css';\n\n@Component({\n  selector: 'tn-kanban-resume',\n  template: html\n})\nexport class KanbanResumeComponent {}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class UtListService {\r\n  constructor(http: HttpClient) {\r\n    this._http = http;\r\n    this._url = 'SeguimientosKanban';\r\n  }\r\n  get(\r\n    idActividad = 'ALL',\r\n    idAgente = 'ALL',\r\n    idProducto = 'ALL',\r\n    idVersion = 'ALL',\r\n    idProyecto = 'ALL'\r\n  ) {\r\n    return this._http.get(\r\n      `${this._url}?idActividad=${idActividad}&idAgente=${idAgente}&idProducto=${idProducto}&idVersion=${idVersion}&idProyecto=${idProyecto}`\r\n    );\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class AgentPicService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'Agentes/Imagen';\n  }\n  get(idAgente, idSitio) {\n    return this._http.get(`${this._url}/${idAgente}/${idSitio}`, {\n      responseType: 'blob'\n    });\n  }\n}\n","import {Component} from '@angular/core';\nimport {NotificationsService, AgentService} from '@tune-up/core';\nimport {UtListService, AgentPicService} from './services';\nimport html from './utlist.component.html';\nimport './utlist.component.css';\n\nconst utTypesIcons = {\n  1: 'fa fa-star',\n  2: 'fa fa-bug',\n  3: 'fa fa-plus-circle',\n  4: 'fa fa-puzzle-piece'\n};\nconst workflowIcons = {\n  1: 'fa fa-arrow-up',\n  2: 'fa fa-repeat',\n  3: 'fa fa-cog',\n  4: 'fa fa-undo',\n  5: 'fa fa-refresh'\n};\nconst agentPics = {};\n\n@Component({\n  selector: 'tn-ut-list',\n  template: html,\n  providers: [UtListService, AgentPicService]\n})\nexport class UtListComponent {\n  constructor(\n    utListService: UtListService,\n    agentPicService: AgentPicService,\n    notificationService: NotificationsService,\n    agentService: AgentService\n  ) {\n    this._utListService = utListService;\n    this._agentPicService = agentPicService;\n    this._notificationsService = notificationService;\n    this._agentService = agentService;\n    this.uts = [];\n    this._getUts();\n  }\n  _getUts() {\n    this._utListService.get().subscribe(\n      data => {\n        if (!data.Exito) {\n          this._notificationsService.error(\n            'No se pudieron obtener las UTs',\n            data.Mensaje\n          );\n          return;\n        }\n        this.uts = data.Resultado;\n      },\n      error =>\n        this._notificationsService.error(\n          'No se pudieron obtener las UTs',\n          error\n        )\n    );\n  }\n  getAgentPic = ut => {\n    const idAgente = ut.IdAgente;\n    if (idAgente) {\n      const idSitio = this._agentService.getSiteId();\n      if (!agentPics[idAgente]) {\n        this._agentPicService.get(idAgente, idSitio).subscribe(data => {\n          agentPics[idAgente] = URL.createObjectURL(data);\n        });\n      }\n      return agentPics[idAgente];\n    }\n  };\n  getUtTypeIcon = ut => {\n    return utTypesIcons[ut.IdTipoUT];\n  };\n  getStateIcon = ut => {\n    return workflowIcons[ut.IdTipoSeguimiento];\n  };\n  setImgSrc() {\n    // TODO\n    [...document.getElementsByClassName('tn-home__utlist__agent__pic')].map(\n      c => (c.src = c.getAttribute('data-src'))\n    );\n  }\n}\n","import {Pipe} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({name: 'safeHtml'})\nexport class SafeHtml {\n  constructor(sanitizer: DomSanitizer) {\n    this.sanitizer = sanitizer;\n  }\n  transform(html) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(html);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {HomeRoutingModule} from './home.routing';\nimport {HomeComponent} from './home.component';\nimport {TuneUpCoreModule} from '@tune-up/core';\nimport {KanbanResumeComponent, UtListComponent, SafeHtml} from './components';\n\n@NgModule({\n  imports: [TuneUpCoreModule, HomeRoutingModule],\n  declarations: [\n    HomeComponent,\n    KanbanResumeComponent,\n    UtListComponent,\n    SafeHtml\n  ]\n})\nexport class HomeModule {}\n"],"names":["HomeComponent","Component","html","HomeRoutingModule","NgModule","RouterModule","forChild","path","component","KanbanResumeComponent","UtListService","Injectable","http","_http","_url","idActividad","idAgente","idProducto","idVersion","idProyecto","get","HttpClient","AgentPicService","idSitio","utTypesIcons","workflowIcons","agentPics","UtListComponent","utListService","agentPicService","notificationService","agentService","getAgentPic","ut","IdAgente","_agentService","getSiteId","_agentPicService","subscribe","URL","createObjectURL","data","getUtTypeIcon","IdTipoUT","getStateIcon","IdTipoSeguimiento","_utListService","_notificationsService","uts","_getUts","Exito","error","Mensaje","Resultado","document","getElementsByClassName","map","c","src","getAttribute","NotificationsService","AgentService","SafeHtml","Pipe","name","sanitizer","bypassSecurityTrustResourceUrl","DomSanitizer","HomeModule","TuneUpCoreModule"],"mappings":"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"}