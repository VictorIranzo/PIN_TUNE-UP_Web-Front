{"version":3,"file":"tune-up.ut.umd.js","sources":["../src/ut.component.js","../src/components/details/services/details.service.js","../src/components/details/details.component.js","../src/components/nuevaut/services/createUT.service.js","../src/components/nuevaut/services/getProductos.service.js","../src/components/nuevaut/services/getProyectos.service.js","../src/components/nuevaut/services/getSprintsProducto.service.js","../src/components/nuevaut/services/getTiposUTProducto.service.js","../src/components/nuevaut/services/getWorkflows.service.js","../src/components/nuevaut/nuevaut.component.js","../src/components/followups/services/followups.service.js","../src/components/followups/services/getAgentesProducto.service.js","../src/components/followups/followups.component.js","../src/components/utsearch/services/utsearch.service.js","../src/components/utsearch/services/activities.service.js","../src/components/utsearch/utsearch.component.js","../src/ut.routing.js","../src/ut.module.js"],"sourcesContent":["import {Component} from '@angular/core';\nimport html from './ut.component.html';\nimport './ut.component.css';\n\n@Component({\n  selector: 'tn-ut',\n  template: html,\n})\nexport class UtComponent {}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class DetailsService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._urlUT = 'FichaUT2';\n    this._urlProductos = 'Productos2';\n    this._urlUTs = 'UTs2';\n  }\n\n  getUt(id) {\n    return this._http.get(`${this._urlUT}/${id}`);\n  }\n\n  getProductosDisponibles() {\n    return this._http.get(`${this._urlProductos}`);\n  }\n\n  submitChangesDetails(model) {\n    return this._http.post(this._urlUTs, model);\n  }\n}\n\n\n","import {Component} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {DetailsService} from './services';\nimport {NotificationsService} from '@tune-up/core';\nimport html from './details.component.html';\nimport './details.component.css';\n\nconst utTypesIcons = {\n  1: 'fa fa-star',\n  2: 'fa fa-bug',\n  3: 'fa fa-plus-circle',\n  4: 'fa fa-puzzle-piece',\n};\n\n@Component({\n  selector: 'tn-ut-details',\n  template: html,\n})\nexport class DetailsComponent {\n  editingMode = false;\n  model = {IdUT: undefined, Nombre: undefined, Orden: undefined,\n          IdProducto: undefined, IdVersion: undefined, IdWorkflow: undefined,\n          IdTipoUT: undefined, IdProyecto: undefined, Descripcion: undefined};\n  ut;\n\n  // TODO: utiliza destructuring para que quede más claro, ej\n  // const {Nombre, Orden} = data.UT; const {listaVersiones,...} = data\n\n  constructor(route: ActivatedRoute,\n              router: Router,\n              detailsService: DetailsService,\n              notificationsService: NotificationsService\n             ) {\n        this._route = route;\n        this._router = router;\n        this._detailsService = detailsService;\n        this._notificationsService = notificationsService;\n\n        this.model.IdUT= parseInt(this._route.params._value.id);\n\n        this._getProductosDisponibles = this._detailsService.getProductosDisponibles().subscribe((data) => {\n          this._parseProductos(data);\n        });\n\n        this._getUt = this._detailsService.getUt(this.model.IdUT).subscribe((data) => {\n              if (data.UT == undefined) {\n                this.showErrorAndBackHome();\n              } else {\n                this.ut = data;\n                this.model.Nombre = data.UT.Nombre;\n                this.model.Orden = data.UT.Orden;\n                this._parseSprints(data.listaVersionesUT);\n                this._parseWorkflows(data.listaWorkflowsDisponibles);\n                this._parseTipos(data.listaTiposUT);\n                this._parseProyectos(data.listaProyectos);\n                this.model.Descripcion = data.UT.Definicion;\n                this._mapSelected(data, this.model);\n              }\n            },\n            (error) => {\n              this.showErrorAndBackHome();\n            }\n          );\n  }\n  onEditar() {\n    this.editingMode = true;\n  }\n\n  onCancelar() {\n    this.editingMode = false;\n\n    this.model.IdUT = this.ut.UT.IdUT;\n    this.model.Nombre = this.ut.UT.Nombre;\n    this.model.Orden = this.ut.UT.Orden;\n    this.model.IdProducto = this.ut.UT.IdProducto;\n    this.model.IdVersion = this.ut.UT.IdVersion;\n    this.model.IdWorkflow = this.ut.UT.IdWorkflow;\n    this.model.IdTipoUT = this.ut.UT.IdTipoUT;\n    this.model.IdProyecto = this.ut.UT.IdProyecto;\n    this.model.Descripcion = this.ut.UT.Descripcion;\n  }\n\n  onGuardar = () => {\n   this._saveDetailsSubscription = this._detailsService.submitChangesDetails(this.model).subscribe(\n      (data) => {\n        this.editingMode = false;\n\n        // TODO: The service must return the UT modified. Meanwhile...\n        this.ut.UT.IdUT = this.model.IdUT;\n        this.ut.UT.Nombre = this.model.Nombre;\n        this.ut.UT.Orden = this.model.Orden;\n        this.ut.UT.IdProducto = this.model.IdProducto;\n        this.ut.UT.IdVersion = this.model.IdVersion;\n        this.ut.UT.IdWorkflow = this.model.IdWorkflow;\n        this.ut.UT.IdTipoUT = this.model.IdTipoUT;\n        this.ut.UT.IdProyecto = this.model.IdProyecto;\n        this.ut.UT.Descripcion = this.model.Descripcion;\n      },\n      (error) => {\n        this._notificationsService.error('Error al guardar los cambios', error);\n      }\n    );\n  };\n\n  // TODO: var a = 'hola', label: a === label: `${a}`\n  // las template strings solo valen si vas a escribir más.\n  // TODO, en vez de almacenar todo esto en this, llama a las funciones desde el html y ya esta,\n  // que solo se van a llamar una vez\n\n  _parseSprints(sprints) {\n    this.sprintsDisponibles = sprints.map((sprint) => {\n      return {label: sprint.Nombre, value: sprint.IdVersion};\n    });\n    this.sprintsDisponibles.push({label: 'Backlog', value: null});\n  }\n  _parseWorkflows(wfs) {\n    this.workflowsDisponibles = wfs.map((wf) => {\n      return {label: `${wf.Nombre}`, value: wf.IdWorkflow};\n    });\n  }\n  _parseTipos(tipos) {\n    this.tiposDisponibles = tipos.map((tipo) => {\n      return {label: `${tipo.Nombre}`, value: tipo.IdTipoUT};\n    });\n  }\n  _parseProyectos(proyectos) {\n    this.proyectosDisponibles = proyectos.map((proy) => {\n      return {label: `${proy.Nombre}`, value: proy.IdProyecto};\n    });\n    this.proyectosDisponibles.push({label: '<Sin Proyecto>', value: null});\n  }\n  _parseProductos(productos) {\n    this.productosDisponibles = productos.map((prod) => {\n      return {label: `${prod.Nombre}`, value: prod.IdProducto};\n    });\n  }\n\n  _mapSelected(ut, model) {\n    this.sprintsDisponibles.forEach(function(element) {\n      if (element.value == ut.UT.IdVersion) model.IdVersion = element.value;\n    });\n    this.workflowsDisponibles.forEach(function(element) {\n      if (element.value == ut.UT.IdWorkflow) model.IdWorkflow = element.value;\n    });\n    this.tiposDisponibles.forEach(function(element) {\n      if (element.value == ut.UT.IdTipoUT) model.IdTipoUT = element.value;\n    });\n    this.proyectosDisponibles.forEach(function(element) {\n      if (element.value == ut.UT.IdProyecto) model.IdProyecto = element.value;\n    });\n    this.productosDisponibles.forEach(function(element) {\n      if (element.value == ut.UT.IdProducto) model.IdProducto = element.value;\n    });\n  }\n\n  getUtTypeIcon = (tipo) => {\n    return utTypesIcons[tipo];\n  };\n\n  showErrorAndBackHome() {\n    this._notificationsService.error('Error al obtener la UT', 'UT no encontrada');\n    this._router.navigateByUrl('/home');\n  }\n\n  ngOnDestroy() {\n    this._saveDetailsSubscription &&\n    !this._saveDetailsSubscription.closed &&\n    this._saveDetailsSubscription.unsubscribe();\n\n    this._getUtSub &&\n    !this._getUtSub.closed &&\n    this._getUtSub.unsubscribe();\n\n    this._getProductosDisponibles &&\n    !this._getProductosDisponibles.closed &&\n    this._getProductosDisponibles.unsubscribe();\n\n    this._getUt &&\n    !this._getUt.closed &&\n    this._getUt.unsubscribe();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class CreateUTService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'UTs/Crear';\n  }\n  put(newUT) {\n    return this._http.put(this._url, newUT);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetProductosService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'Productos2';\n  }\n  get() {\n    return this._http.get(\n      `${this._url}`\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetProyectosService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'Productos';\n  }\n  get(idProducto) {\n    return this._http.get(\n      `${this._url}/${idProducto}/Proyectos`\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetSprintsProductoService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'Sprints2';\n  }\n  get(idProducto) { \n    return this._http.get(`${this._url}/${idProducto}`);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetTiposUTProductoService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'TiposUT2';\n  }\n  get(idProducto) { \n    return this._http.get(`${this._url}/${idProducto}`);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetWorkflowsService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._url = 'Workflows';\n  }\n  get(idProducto) {\n    return this._http.get(\n      `${this._url}/${idProducto}`\n    );\n  }\n}\n\n","import {Component} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {NotificationsService} from '@tune-up/core';\nimport {CreateUTService, GetProductosService, GetProyectosService, GetSprintsProductoService, GetTiposUTProductoService, GetWorkflowsService} from './services';\nimport html from './nuevaut.component.html';\nimport './nuevaut.component.css';\n\nconst proyectosCache = [];\nconst sprintsCache = [];\nconst tiposUTCache = [];\nconst workflowsCache = [];\n\nconst utTypesIcons = {\n  1: 'fa fa-star',\n  2: 'fa fa-bug',\n  3: 'fa fa-plus-circle',\n  4: 'fa fa-puzzle-piece',\n};\n\n@Component({\n  selector: 'tn-ut-nuevaut',\n  template: html,\n  providers: [\n    CreateUTService,\n    GetWorkflowsService,\n  ],\n})\nexport class NuevaUTComponent {\n  ut = {\n    Nombre: null,\n    IdVersion: null,\n    IdProducto: null,\n    IdWorkflow: null,\n    IdTipoUT: null,\n    IdProyecto: null,\n  };\n\n\n  constructor(\n    createUTService: CreateUTService,\n    getProductosService : GetProductosService,\n    getProyectosService : GetProyectosService,\n    getSprintsProductoService : GetSprintsProductoService,\n    getTiposUTService : GetTiposUTProductoService,\n    getWorkflowsService : GetWorkflowsService,\n    notificationsService: NotificationsService,\n    router : Router\n  ) {\n    this._createUTService = createUTService;\n    this._getProductosService = getProductosService;\n    this._getProyectosService = getProyectosService;\n    this._getSprintsService = getSprintsProductoService;\n    this._getWorkflowsService = getWorkflowsService;\n    this._getTiposUTService = getTiposUTService;\n    this._notificationService = notificationsService;\n    this._router = router;\n    this.productos = [];\n    this.proyectos = [];\n    this.sprints = [];\n    this.tiposUT = [];\n    this.workflows = [];\n  }\n\n  ngOnInit() {\n    this._getProductos();\n  }\n\n  _getProductos() {\n    this._getProductosSubscription = this._getProductosService.get().subscribe(\n      (data) => {\n        this.productos = this._parseProductos(data);\n        if (this.productos.length > 0) {\n          this.ut.IdProducto = this.productos[0].value;\n          this._getDatosProducto(this.productos[0].value);\n        }\n      },\n      (error) =>\n        this._notificationService.error(\n          'No se han podido obtener los productos',\n          error\n        )\n    );\n  }\n\n  _parseProductos(productos) {\n    return productos.map((prod) => {\n      return {label: `${prod.Nombre}`, value: prod.IdProducto};\n    });\n  }\n\n  _getDatosProducto(idProducto) {\n    this.workflows = this._getWorkflows(idProducto);\n    this.proyectos = this._getProyectos(idProducto);\n    this.sprints = this._getSprints(idProducto);\n    this.tiposUT = this._getTiposUT(idProducto);\n\n    this._seleccionarValoresPorDefecto();\n  }\n\n  _getWorkflows(idProducto) {\n    if (!workflowsCache[idProducto]) {\n      this._getWorkflowsSubscription =\n        this._getWorkflowsService.get(idProducto).subscribe(\n          (data) => {\n            workflowsCache[idProducto] = this._parseWorkflows(data);\n            this.workflows = workflowsCache[idProducto];\n            this.ut.IdWorkflow = this.workflows[0]? this.workflows[0].value : null;\n          }\n        );\n    }\n    return workflowsCache[idProducto];\n  }\n\n  _parseWorkflows(workflows) {\n    return workflows.map((wf) => {\n      return {label: `${wf.Nombre}`, value: wf.IdWorkflow};\n    });\n  }\n\n  _getProyectos(idProducto) {\n    if (!proyectosCache[idProducto]) {\n      this._getProyectoSubscription =\n      this._getProyectosService.get(idProducto).subscribe(\n        (data) => {\n          proyectosCache[idProducto] = this._parseProyectos(data);\n          this.proyectos = proyectosCache[idProducto];\n          this.ut.IdProyecto = this.proyectos[0]? this.proyectos[0].value : null;\n        },\n        (error) =>\n          this._notificationService.error(\n            'No se han podido obtener los proyectos del producto',\n          error\n        ));\n    }\n    return proyectosCache[idProducto];\n  }\n\n  _parseProyectos(proyectos) {\n    return proyectos.map((pr) => {\n      return {label: `${pr.Nombre}`, value: pr.IdProyecto};\n    });\n  }\n\n  _getTiposUT(idProducto) {\n    if (!tiposUTCache[idProducto]) {\n      this._getTiposUTSubscription =\n        this._getTiposUTService.get(idProducto).subscribe(\n          (data) => {\n            tiposUTCache[idProducto] = this._parseTiposUT(data);\n            this.tiposUT = tiposUTCache[idProducto];\n            this.ut.IdTipoUT = this.tiposUT[0]? this.tiposUT[0].value : null;\n          },\n          (error) =>\n            this._notificationService.error(\n              'No se han podido obtener los tipos de UT',\n              error\n        ));\n    }\n    return tiposUTCache[idProducto];\n  }\n\n  _parseTiposUT(tipos) {\n    return tipos.map((t) => {\n      return {label: `${t.Nombre}`, value: t.IdTipoUT};\n    });\n  }\n\n  _getSprints(idProducto) {\n    if (!sprintsCache[idProducto]) {\n      this._getSprintsSubscription =\n       this._getSprintsService.get(idProducto).subscribe(\n        (data) => {\n          sprintsCache[idProducto] = this._parseSprints(data);\n          this.sprints = sprintsCache[idProducto];\n          this.ut.IdVersion = this.sprints[0]? this.sprints[0].value : null;\n        },\n        (error) => {\n          this._notificationService.error(\n            'No se han podido obtener los Sprints del producto',\n            error\n          );\n        }\n      );\n    }\n    return sprintsCache[idProducto];\n  }\n\n  _parseSprints(sprints) {\n    return sprints.map((sp) => {\n      return {label: `${sp.Nombre}`, value: sp.IdVersion};\n    });\n  }\n\n  _seleccionarValoresPorDefecto() {\n    this.ut.IdWorkflow = this.workflows && this.workflows[0]? this.workflows[0].value : null;\n    this.ut.IdProyecto = this.proyectos && this.proyectos[0]? this.proyectos[0].value : null;\n    this.ut.IdVersion = this.IdVersion && this.sprints[0]? this.sprints[0].value : null;\n    this.ut.IdTipoUT = this.tiposUT && this.tiposUT[0]? this.tiposUT[0].value : null;\n  }\n\n  onProductChanged(idNuevoProducto) {\n    this._getDatosProducto(idNuevoProducto);\n  }\n\n  onCrearNuevaUTClick() {\n    this._crearUTSubscription =\n    this._createUTService.put(this.ut).subscribe(\n      (data) => {\n          this._notificationService.success(\n            'La UT se ha creado con exito',\n            `UT: ${this.ut.Nombre}`\n          );\n          this._clearFields();\n      },\n      (error) => {\n        this._notificationService.error(\n          'No se pudo crear la UT especficada',\n          error\n        );\n      }\n    );\n  }\n\n  _clearFields() {\n    this.ut.Nombre = '';\n  }\n\n  onCrearYAbrirUTClick() {\n    this._crearUTSubscription =\n    this._createUTService.put(this.ut).subscribe(\n      (data) => {\n        setTimeout(function() {\n          this._redirect(data);\n        }, 3000);\n      },\n      (error) => {\n        this._notificationService.error(\n          'No se pudo crear la UT especficada',\n          error\n        );\n      }\n    );\n  }\n  _redirect(idUT) {\n    this._router.navigateByUrl(`/uts/${idUT}`);\n  }\n\n  getUtTypeIcon = (tipo) => {\n    return utTypesIcons[tipo];\n  };\n\n  isNombreEmpty() {\n    return this.ut.Nombre == null || this.ut.Nombre.length === 0;\n  }\n\n  ngOnDestroy() {\n    this._crearUTSubscription &&\n      !this._crearUTSubscription.closed &&\n      this._crearUTSubscription.unsubscribe();\n\n    this._getProductosSubscription &&\n      !this._getProductosSubscription.closed &&\n      this._getProductosSubscription.unsubscribe();\n\n    this._getProyectoSubscription &&\n      !this._getProyectoSubscription.closed &&\n      this._getProyectoSubscription.unsubscribe();\n\n    this._getSprintsSubscription &&\n      !this._getSprintsSubscription.closed &&\n      this._getSprintsSubscription.unsubscribe();\n\n    this._getTiposUTSubscription &&\n      !this._getTiposUTSubscription.closed &&\n      this._getTiposUTSubscription.unsubscribe();\n\n    this._getWorkflowsSubscription &&\n      !this._getWorkflowsSubscription.closed &&\n      this._getWorkflowsSubscription.unsubscribe();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class FollowupsService {\n  constructor(http: HttpClient) {\n    this._http = http;\n  }\n  getSeguimientos(idUt) {\n    return this._http.get(`UTs/${idUt}/Seguimientos`);\n  }\n  pausarSeguimiento(idSeguimiento) {\n    return this._http.post(\n      `FinalizarRegistroTiempo?idSeguimiento=${idSeguimiento}`\n    );\n  }\n  empezarSeguimiento(idSeguimiento) {\n    return this._http.post(\n      `EmpezarRegistroTiempo?idSeguimiento=${idSeguimiento}`\n    );\n  }\n  finalizarSeguimiento(idSeguimiento, adelante = true) {\n    return this._http.post(\n      `FinalizarSeguimiento?idSeguimiento=${idSeguimiento}&adelante=${adelante}&avisarEmail=false`\n    );\n  }\n  asignarAgente(idSeguimiento, idAgente) {\n    return this._http.post(\n      `Seguimientos/${idSeguimiento}/AsignarAgente/${idAgente}`\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class GetAgentesProductoService {\n  constructor(http: HttpClient) {\n    this._http = http;\n  }\n  getAgentes(idProducto) { \n    return this._http.get(`Productos/${idProducto}/Agentes`);\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {AgentService} from '@tune-up/app';\nimport {FollowupsService, GetAgentesProductoService} from './services';\nimport html from './followups.component.html';\nimport './followups.component.css';\n\n@Component({\n  selector: 'ut-followup',\n  template: html,\n  providers: [FollowupsService, GetAgentesProductoService],\n})\nexport class FollowupsComponent {\n  @Input() utId;\n  @Input() productoId;\n  seguimientoSelected;\n  assigningAgent = false;\n  selectedAgent;\n  seguimientos = [];\n\n  constructor(followupsService: FollowupsService, \n              agentService: AgentService, \n              getAgentesProductoService: GetAgentesProductoService) {\n    this._followupsService = followupsService;\n    this._agentService = agentService;\n    this._getAgentesProductoService = getAgentesProductoService;\n  }\n  ngOnInit() {\n   this._getFollowUps();\n  }\n  isSameAgent() {\n    return this.seguimiento.IdAgente === this._agentService.getAgentId();\n  }\n  _getFollowUps() {\n    this._getFollowupsSub = this._followupsService.getSeguimientos(this.utId)\n    .subscribe(\n    (data) => {\n      this.seguimientos = data;\n    }, (error) => {\n      // TODO\n      console.error(error);\n    });\n  }\n  _getAgentes() {\n    this._getAgentesSub = this._getAgentesProductoService.getAgentes(this.productoId)\n    .subscribe(\n    (data) => {\n      this.agentesDisponibles = data.map((agente) => {\n          return {label: agente.Nombre, value: agente.Id};\n      });\n      this.agentesDisponibles.shift(); // TODO: Refactor backend service.\n    }, (error) => {\n      // TODO\n      console.error(error);\n    });\n  }\n  get idSeguimiento() {\n    return this.seguimientoSelected.IdSeguimiento;\n  }\n  get seguimiento() {\n    return this.seguimientoSelected;\n  }\n  puedeIniciar = () => {\n    return this.seguimiento && this.seguimiento.Estado === 'TO DO';\n  }\n  iniciar = () => {\n    this._followupsService.empezarSeguimiento(this.idSeguimiento).subscribe(\n      (data) => {\n        this.seguimiento.Estado = 'ACTIVE';\n       },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  puedeContinuar = () => {\n    return this.seguimiento && this.seguimiento.Estado === 'DOING';\n  }\n  continuar = () => {\n    this._followupsService.empezarSeguimiento(this.idSeguimiento).subscribe(\n      (data) => {\n        this.seguimiento.Estado = 'ACTIVE';\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  puedePausar = () => {\n    return this.seguimiento && this.seguimiento.Estado === 'ACTIVE';\n  }\n  pausar = () => {\n    this._followupsService.pausarSeguimiento(this.idSeguimiento).subscribe(\n      (data) => {\n        this.seguimiento.Estado = 'DOING';\n       },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  puedeFinalizar = () => {\n    return this.seguimiento && this.seguimiento.Estado !== 'DONE';\n  }\n  finalizar = () => {\n    this._followupsService.finalizarSeguimiento(this.idSeguimiento).subscribe(\n      (data) => {\n        this._getFollowUps();\n       },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  puedeAsignarAgente = () => {\n     return this.seguimiento && this.seguimiento.IdAgente === null\n     && this.seguimiento.Estado === 'TO DO';\n  }\n  asignarAgente = () => {\n    this.assigningAgent = true;\n    this._getAgentes();\n  }\n  aceptarAsignar = () => {\n    this.assigningAgent = false;\n    this._followupsService.asignarAgente(this.seguimiento.IdSeguimiento, this.selectedAgent).subscribe(\n      (data) => {\n        // TODO: This can be replace to the invocation of getFollowUps\n        this.seguimiento.IdAgente = this.selectedAgent;\n        this.seguimiento.NombreAgente = this.agentesDisponibles.find((agente) =>{\n          return agente.value === this.selectedAgent;\n        }).label;\n       },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  cancelarAsignar = () => {\n    this.assigningAgent = false;\n  }\n  trabajarEnParalelo = () => {\n    // TODO\n  }\n  ngOnDestroy() {\n\n    this._getFollowupsSub &&\n    !this._getFollowupsSub.closed &&\n    this._getFollowupsSub.unsubscribe();\n\n    this._getAgentesSub &&\n    !this._getAgentesSub.closed &&\n    this._getAgentesSub.unsubscribe();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class UtSearchService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._urlSearch = '/UTs/Buscar';\n  }\n\n  search(model) {\n    return this._http.get(`${this._urlSearch}?nombreUT=${model.NombreUT}&idProducto=${model.IdProducto}&idSprint=${model.IdSprint}&idProyecto=${model.IdProyecto}&idTipo=${model.IdTipoUT}&estado=${model.Estado}`);\n  }\n}\n\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable()\nexport class ActivitiesService {\n  constructor(http: HttpClient) {\n    this._http = http;\n    this._urlSearch = '/Actividades';\n  }\n\n  getActivities() {\n    return this._http.get(this._urlSearch);\n  }\n}\n","import {Component} from '@angular/core';\n\nimport {UtSearchService, ActivitiesService} from './services';\nimport {BreadcrumbService} from '@tune-up/app';\nimport {GetProductosService, GetProyectosService, GetSprintsProductoService,\n        GetTiposUTProductoService} from '../nuevaut';\nimport {NotificationsService} from '@tune-up/core';\n\nimport html from './utsearch.component.html';\nimport './utsearch.component.css';\n\nconst utTypesIcons = {\n  1: 'fa fa-star',\n  2: 'fa fa-bug',\n  3: 'fa fa-plus-circle',\n  4: 'fa fa-puzzle-piece',\n};\n\nconst estados = [\n  {label: 'ALL', value: 0},\n  {label: 'Sólo UTs terminadas', value: 1},\n  {label: 'Sólo UTs NO terminadas', value: 2},\n];\n\nconst proyectosCache = [];\nconst sprintsCache = [];\nconst tiposUTCache = [];\nconst actividades = [];\n\n@Component({\n  selector: 'tn-ut-search',\n  template: html,\n  providers: [UtSearchService, ActivitiesService],\n})\nexport class UtSearchComponent {\n  model = {NombreUT: '', IdProducto: undefined, IdSprint: undefined,\n           IdProyecto: undefined, IdTipoUT: undefined, Estado: undefined};\n  selectableFields = false;\n  uts = undefined;\n\n  constructor(breadcrumbService: BreadcrumbService,\n              utSearchService: UtSearchService,\n              activitiesService: ActivitiesService,\n              getProductosService: GetProductosService,\n              getProyectosService: GetProyectosService,\n              getSprintsProductoService: GetSprintsProductoService,\n              getTiposUTProductoService: GetTiposUTProductoService,\n              notificationsService: NotificationsService,\n            ) {\n    this._utSearchService = utSearchService;\n    this._activitiesService = activitiesService;\n    this._breadcrumbService = breadcrumbService;\n    this._getProductosService = getProductosService;\n    this._getProyectosService = getProyectosService;\n    this._getSprintsService = getSprintsProductoService;\n    this._getTiposUTService = getTiposUTProductoService;\n    this._notificationsService = notificationsService;\n  }\n\n  ngOnInit() {\n    this._getProductos();\n    this._getActividades();\n    this._parseEstados();\n  }\n\n  onSearch() {\n    this._utSearchSubscription = this._utSearchService.search(this.model).subscribe(\n      (data) => {\n        // TODO: Update table.\n        this.uts = data;\n      },\n      (error) => {\n        this._notificationsService.error('Error al buscar', error);\n      }\n    );\n  }\n\n  _getProductos() {\n    this._getProductosSubscription = this._getProductosService.get().subscribe(\n      (data) => {\n        this._parseProductos(data);\n        this.model.IdProducto = 'ALL';\n        this.clearFieldsAndPutAll();\n      },\n      (error) =>\n        this._notificationService.error(\n          'No se han podido obtener los productos',\n          error)\n    );\n  }\n\n  productoChange() {\n    if (this.model.IdProducto == 'ALL') {\n      this.selectableFields = false;\n      this.clearFieldsAndPutAll();\n    } else {\n      this.selectableFields = true;\n      this._getProyectos(this.model.IdProducto);\n      this._getSprints(this.model.IdProducto);\n      this._getTiposUT(this.model.IdProducto);\n      this.selectDefaultValues();\n    }\n  }\n\n  clearFieldsAndPutAll() {\n    // TODO: This cannot works at the init.\n    this.proyectosDisponibles = [];\n    this.proyectosDisponibles.push({label: 'ALL', value: 'ALL'});\n\n    this.sprintsDisponibles = [];\n    this.sprintsDisponibles.push({label: 'ALL', value: 'ALL'});\n\n    this.tiposDisponibles = [];\n    this.tiposDisponibles.push({label: 'ALL', value: 'ALL'});\n\n    this.selectDefaultValues();\n  }\n\n  selectDefaultValues() {\n    this.model.IdProyecto = 'ALL';\n    this.model.IdSprint = 'ALL';\n    this.model.IdTipoUT = 'ALL';\n  }\n\n  _parseProductos(productos) {\n    this.productosDisponibles = productos.map((prod) => {\n      return {label: `${prod.Nombre}`, value: prod.IdProducto};\n    });\n    this.productosDisponibles.push({label: 'ALL', value: 'ALL'});\n  }\n\n  _getProyectos(idProducto) {\n    if (!proyectosCache[idProducto]) {\n      this._getProyectoSubscription =\n      this._getProyectosService.get(idProducto).subscribe(\n        (data) => {\n          this._parseProyectos(data);\n          proyectosCache[idProducto] = this.proyectosDisponibles;\n        },\n        (error) =>\n          this._notificationService.error(\n            'No se han podido obtener los proyectos del producto', error)\n      );\n    } else {\n      this.proyectosDisponibles = proyectosCache[idProducto];\n    }\n  }\n\n  _parseProyectos(proyectos) {\n    this.proyectosDisponibles = proyectos.map((proy) => {\n      return {label: `${proy.Nombre}`, value: proy.IdProyecto};\n    });\n    this.proyectosDisponibles.push({label: '<Sin Proyecto>', value: 0});\n    this.proyectosDisponibles.push({label: 'ALL', value: 'ALL'});\n  }\n\n  _getSprints(idProducto) {\n    if (!sprintsCache[idProducto]) {\n      this._getSprintsSubscription =\n       this._getSprintsService.get(idProducto).subscribe(\n        (data) => {\n          this._parseSprints(data);\n          sprintsCache[idProducto] = this.sprintsDisponibles;\n        },\n        (error) => {\n          this._notificationService.error(\n            'No se han podido obtener los Sprints del producto',\n            error\n          );\n        }\n      );\n    } else {\n      this.sprintsDisponibles = sprintsCache[idProducto];\n    }\n  }\n\n  _parseSprints(sprints) {\n    this.sprintsDisponibles = sprints.map((sprint) => {\n      if (sprint.IdVersion === -1) {\n        return {label: 'Backlog', value: 0}; // TODO: Refactor backend service.\n      } else {\n        return {label: sprint.Nombre, value: sprint.IdVersion};\n      }\n    });\n    this.sprintsDisponibles.push({label: 'ALL', value: 'ALL'});\n  }\n\n  _getTiposUT(idProducto) {\n    if (!tiposUTCache[idProducto]) {\n      this._getTiposUTSubscription =\n        this._getTiposUTService.get(idProducto).subscribe(\n          (data) => {\n            this._parseTiposUT(data);\n            tiposUTCache[idProducto] = this.tiposDisponibles;\n          },\n          (error) =>\n            this._notificationService.error(\n              'No se han podido obtener los tipos de UT',\n              error\n        ));\n    } else {\n      this.tiposDisponibles = tiposUTCache[idProducto];\n    }\n  }\n\n  _parseTiposUT(tipos) {\n    this.tiposDisponibles = tipos.map((tipo) => {\n      return {label: `${tipo.Nombre}`, value: tipo.IdTipoUT};\n    });\n    this.tiposDisponibles.push({label: 'ALL', value: 'ALL'});\n  }\n\n  _parseEstados() {\n    this.estadosDisponibles = estados;\n    this.model.Estado = 'ALL';\n  }\n\n  getUtTypeIcon = (tipo) => {\n    return utTypesIcons[tipo];\n  };\n\n  getUtLink = (ut) => {\n    return `/uts/${ut.IdUT}`;\n  };\n\n  _getActividades() {\n    this._getActividadesSubscription = this._activitiesService.getActivities().subscribe(\n      (data) => {\n        data.map((actividad)=>{\n            actividades[actividad.IdActividad] = actividad.Nombre;\n        });\n      },\n      (error) =>\n        this._notificationService.error(\n          'No se han podido obtener las actividades',\n          error)\n    );\n    actividades[0]='Terminar';\n  }\n\n  getActividad = (IdActividad) => {\n    return actividades[IdActividad];\n  };\n\n  ngOnDestroy() {\n    this._breadcrumbService.removeItems(1);\n\n    this._utSearchSubscription &&\n    !this._utSearchSubscription.closed &&\n    this._utSearchSubscription.unsubscribe();\n\n    this._getActividadesSubscription &&\n    !this._getActividadesSubscription.closed &&\n    this._getActividadesSubscription.unsubscribe();\n\n    this._getProductosSubscription &&\n      !this._getProductosSubscription.closed &&\n      this._getProductosSubscription.unsubscribe();\n\n    this._getProyectoSubscription &&\n      !this._getProyectoSubscription.closed &&\n      this._getProyectoSubscription.unsubscribe();\n\n    this._getSprintsSubscription &&\n      !this._getSprintsSubscription.closed &&\n      this._getSprintsSubscription.unsubscribe();\n\n    this._getTiposUTSubscription &&\n      !this._getTiposUTSubscription.closed &&\n      this._getTiposUTSubscription.unsubscribe();\n  }\n}\n","import {RouterModule} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {UtComponent} from './ut.component';\nimport {DetailsComponent, NuevaUTComponent} from './components';\n\n@NgModule({\n  imports: [RouterModule.forChild([\n    {path: '', component: UtComponent},\n    {path: 'add', component: NuevaUTComponent, data: {breadcrumb: 'Nueva UT'}},\n    {path: ':id', component: DetailsComponent, data: {breadcrumb: '@id'}},\n  ])],\n  exports: [RouterModule],\n})\nexport class UtRoutingModule {}\n\n\n","import {NgModule} from '@angular/core';\nimport {UtRoutingModule} from './ut.routing';\nimport {UtComponent} from './ut.component';\nimport {TuneUpCoreModule} from '@tune-up/core';\nimport {DetailsComponent, DetailsService, NuevaUTComponent, FollowupsComponent, UtSearchComponent,\n  GetProductosService, GetProyectosService, GetSprintsProductoService, GetTiposUTProductoService} from './components';\n\n@NgModule({\n  imports: [TuneUpCoreModule, UtRoutingModule],\n  declarations: [\n    UtComponent,\n    DetailsComponent,\n    NuevaUTComponent,\n    FollowupsComponent,\n    UtSearchComponent,\n  ],\n  providers: [\n    DetailsService, // TODO: Move to the component if nobody uses it.\n    GetProductosService,\n    GetProyectosService,\n    GetSprintsProductoService,\n    GetTiposUTProductoService,\n  ],\n})\nexport class UtModule {}\n"],"names":["UtComponent","Component","html","DetailsService","Injectable","http","_http","_urlUT","_urlProductos","_urlUTs","id","get","model","post","HttpClient","utTypesIcons","DetailsComponent","route","router","detailsService","notificationsService","editingMode","IdUT","undefined","Nombre","Orden","IdVersion","IdWorkflow","IdProyecto","Descripcion","ut","onGuardar","_saveDetailsSubscription","_detailsService","submitChangesDetails","subscribe","data","UT","IdProducto","IdTipoUT","error","_notificationsService","getUtTypeIcon","tipo","_route","_router","parseInt","params","_value","_getProductosDisponibles","getProductosDisponibles","_parseProductos","_getUt","getUt","showErrorAndBackHome","_parseSprints","listaVersionesUT","_parseWorkflows","listaWorkflowsDisponibles","_parseTipos","listaTiposUT","_parseProyectos","listaProyectos","Definicion","_mapSelected","sprints","sprintsDisponibles","map","sprint","label","value","push","wfs","workflowsDisponibles","wf","tipos","tiposDisponibles","proyectos","proyectosDisponibles","proy","productos","productosDisponibles","prod","forEach","element","navigateByUrl","closed","unsubscribe","_getUtSub","ActivatedRoute","Router","NotificationsService","CreateUTService","_url","newUT","put","GetProductosService","GetProyectosService","idProducto","GetSprintsProductoService","GetTiposUTProductoService","GetWorkflowsService","proyectosCache","sprintsCache","tiposUTCache","workflowsCache","NuevaUTComponent","createUTService","getProductosService","getProyectosService","getSprintsProductoService","getTiposUTService","getWorkflowsService","_createUTService","_getProductosService","_getProyectosService","_getSprintsService","_getWorkflowsService","_getTiposUTService","_notificationService","tiposUT","workflows","_getProductos","_getProductosSubscription","length","_getDatosProducto","_getWorkflows","_getProyectos","_getSprints","_getTiposUT","_seleccionarValoresPorDefecto","_getWorkflowsSubscription","_getProyectoSubscription","pr","_getTiposUTSubscription","_parseTiposUT","t","_getSprintsSubscription","sp","idNuevoProducto","_crearUTSubscription","success","_clearFields","_redirect","idUT","FollowupsService","idUt","idSeguimiento","adelante","idAgente","GetAgentesProductoService","FollowupsComponent","Input","followupsService","agentService","getAgentesProductoService","seguimientoSelected","assigningAgent","selectedAgent","seguimientos","puedeIniciar","seguimiento","Estado","iniciar","_followupsService","empezarSeguimiento","log","puedeContinuar","continuar","puedePausar","pausar","pausarSeguimiento","puedeFinalizar","finalizar","finalizarSeguimiento","_getFollowUps","puedeAsignarAgente","IdAgente","asignarAgente","_getAgentes","aceptarAsignar","IdSeguimiento","NombreAgente","agentesDisponibles","find","agente","cancelarAsignar","trabajarEnParalelo","_agentService","_getAgentesProductoService","getAgentId","_getFollowupsSub","getSeguimientos","utId","_getAgentesSub","getAgentes","productoId","Id","shift","AgentService","UtSearchService","_urlSearch","NombreUT","IdSprint","ActivitiesService","estados","actividades","UtSearchComponent","breadcrumbService","utSearchService","activitiesService","getTiposUTProductoService","selectableFields","uts","getUtLink","getActividad","IdActividad","_utSearchService","_activitiesService","_breadcrumbService","_getActividades","_parseEstados","_utSearchSubscription","search","clearFieldsAndPutAll","selectDefaultValues","estadosDisponibles","_getActividadesSubscription","getActivities","actividad","removeItems","BreadcrumbService","UtRoutingModule","NgModule","RouterModule","forChild","path","component","breadcrumb","UtModule","TuneUpCoreModule"],"mappings":"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"}