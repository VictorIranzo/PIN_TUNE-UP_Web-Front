!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("@angular/router"),require("@angular/common/http"),require("@tune-up/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/router","@angular/common/http","@tune-up/core"],i):i((e.tuneUp=e.tuneUp||{},e.tuneUp.ut={}),e.tuneUp.vendor.ngCore,e.tuneUp.vendor.ngRouter,e.tuneUp.vendor.ngCommonHttp,e.tuneUp.app)}(this,function(e,i,t,n,o){"use strict";function __$styleInject(e,i){if("undefined"==typeof document)return i;e=e||"";var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),i}function _initDefineProp(e,i,t,n){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _initDefineProp$1(e,i,t,n){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}__$styleInject(".tn-example-form--input{margin-bottom:8px;margin-top:8px}",void 0);!function(){function AwaitValue(e){this.value=e}function AsyncGenerator(e){function resume(i,t){try{var n=e[i](t),o=n.value;o instanceof AwaitValue?Promise.resolve(o.value).then(function(e){resume("next",e)},function(e){resume("throw",e)}):settle(n.done?"return":"normal",n.value)}catch(e){settle("throw",e)}}function settle(e,n){switch(e){case"return":i.resolve({value:n,done:!0});break;case"throw":i.reject(n);break;default:i.resolve({value:n,done:!1})}(i=i.next)?resume(i.key,i.arg):t=null}var i,t;this._invoke=function send(e,n){return new Promise(function(o,r){var l={key:e,arg:n,resolve:o,reject:r,next:null};t?t=t.next=l:(i=t=l,resume(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)}}();var r,l,u,s,a,d=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},p=function(){function defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,t){return i&&defineProperties(e.prototype,i),t&&defineProperties(e,t),e}}(),c=(r=i.Component({selector:"tn-ut",template:'<form class="vertical" #frm="ngForm" (ngSubmit)="onSubmit()">\n  <input class="tn-example-form--input one" type="text" [(ngModel)]="foo.email" rule="foo.email" name="email" #emailCtrl="ngModel" pInputText>\n  <tn-validation-error [control]="emailCtrl"></tn-validation-error>\n  <input class="tn-example-form--input one" type="password" [(ngModel)]="foo.password" rule="foo.password" name="password" pInputText>\n  <div class="horizontal">\n    <div class="one"></div>\n    <button class="none" pButton type="submit" label="Submit"></button>\n  </div>\n  <tn-ut-details>UT!</tn-ut-details>\n</form>\n'}),l=i.ViewChild("frm"),r((s=function UtComponent(){var e=this;d(this,UtComponent),_initDefineProp(this,"form",a,this),this.onSubmit=function(){console.log(e)},this.foo={email:void 0,password:void 0}},a=function _applyDecoratedDescriptor(e,i,t,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,n){return n(e,i,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,i,r),r=null),r}(s.prototype,"form",[l],{enumerable:!0,initializer:function initializer(){return this.form}}),u=s))||u);__$styleInject("",void 0);var f,v,m=(f=i.Injectable())(v=function(){function DetailsService(e){d(this,DetailsService),this._http=e,this._urlUT="FichaUT2",this._urlProductos="Productos2"}return p(DetailsService,[{key:"getUt",value:function getUt(e){return this._http.get(this._urlUT+"/"+e)}},{key:"getProductosDisponibles",value:function getProductosDisponibles(){return this._http.get(""+this._urlProductos)}}]),DetailsService}())||v;Reflect.defineMetadata("design:paramtypes",[n.HttpClient],m);var b,g,h,y,w,_=(b=i.Component({selector:"tn-ut-details",template:'<div class="ui-g">\n  <div class="ui-g-4 ui-md-2 ui-lg-1">\n    Código\n  </div>\n  <div class="ui-g-3 ui-md-2 ui-lg-1">\n    <input id="disabled-input" type="text" size= "4" pInputText [(ngModel)]= "model.codigoUT" [disabled]="true" />\n  </div>\n  <div class="ui-g-4 ui-md-2 ui-lg-1">\n    Nombre\n  </div>\n  <div class="ui-g-20 ui-md-10 ui-lg-5">\n    <input id="input" type="text" size="50" pInputText [(ngModel)]="model.nombreUT" [disabled]= "!editingMode"> \n  </div>\n  <div class="ui-g-12 ui-md-6 ui-lg-3">\n      <button *ngIf="!editingMode" pButton type="button" label="Editar" (click)="onEditar()"></button>\n      <button *ngIf="editingMode" pButton type="button" label="Guardar" (click)="onGuardar()"></button>\n      <button *ngIf="editingMode" pButton type="button" label="Cancelar" (click)="onCancelar()"></button>\n  </div>\n</div>\n<div class="ui-g">\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Producto\n    </div>\n    <div class="ui-g-12 ui-md-6 ui-lg-3">\n        <p-dropdown [options]="productosDisponibles" [(ngModel)]="model.producto" optionLabel= "IdProducto" [disabled]= "!editingMode" [style]="{\'width\':\'250px\'}"></p-dropdown>\n    </div>\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Sprint\n    </div>\n    <div class="ui-g-12 ui-md-6 ui-lg-3">\n        <p-dropdown #combo [options]="sprintsDisponibles" [(ngModel)]="model.sprint" [disabled]= "!editingMode" [style]="{\'width\':\'200px\'}"></p-dropdown>\n    </div>\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Orden\n      </div>\n      <div class="ui-g-6 ui-md-4 ui-lg-2">\n        <input id="input" type="text" size="4" pInputText [(ngModel)]="model.orden" [disabled]= "!editingMode"> \n    </div>\n</div>\n<div class="ui-g">\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n      Workflow\n    </div>\n    <div class="ui-g-12 ui-md-6 ui-lg-3">\n        <p-dropdown [options]="workflowsDisponibles" [(ngModel)]="model.workflow" [disabled]= "!editingMode" [style]="{\'width\':\'250px\'}"></p-dropdown>\n    </div>\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Tipo\n    </div>\n    <div class="ui-g-12 ui-md-6 ui-lg-3">\n        <p-dropdown [options]="tiposDisponibles" [(ngModel)]="model.tipo" [disabled]= "!editingMode" [style]="{\'width\':\'200px\'}"></p-dropdown>\n    </div>\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Proyecto\n      </div>\n      <div class="ui-g-12 ui-md-6 ui-lg-3">\n          <p-dropdown [options]="proyectosDisponibles" [(ngModel)]="model.proyecto" [disabled]= "!editingMode" [style]="{\'width\':\'250px\'}"></p-dropdown>\n    </div>\n</div>\n<div class="ui-g">\n    <div class="ui-g-4 ui-md-2 ui-lg-1">\n        Descripción\n      </div>\n      <div class="ui-g-30 ui-md-20 ui-lg-10">\n          <textarea rows="5"  pInputTextarea  [(ngModel)]="model.descripcion" [disabled]= "!editingMode" cols="120"></textarea>\n      </div>\n</div>\n\n'}),g=i.ViewChild("combo"),b((y=function(){function DetailsComponent(e,i){var t=this;d(this,DetailsComponent),this.editingMode=!1,this.model={codigoUT:null,nombreUT:null,orden:null,producto:null,sprint:null,workflow:null,tipo:null,proyecto:null,descripcion:null},_initDefineProp$1(this,"combo",w,this),this._route=e,this._detailsService=i,this.model.codigoUT=parseInt(this._route.params._value.id),this._detailsService.getUt(this.model.codigoUT).subscribe(function(e){t.ut=e,t.model.nombreUT=t.ut.UT.Nombre,t.model.orden=t.ut.UT.Orden,t._parseSprints(t.ut.listaVersionesUT),t._parseWorkflows(t.ut.listaWorkflowsDisponibles),t._parseTipos(t.ut.listaTiposUT),t._parseProyectos(t.ut.listaProyectos),t.model.descripcion=t.ut.UT.Definicion,t._mapSelected(e,t.model)}),this._detailsService.getProductosDisponibles().subscribe(function(e){t._parseProductos(e)})}return p(DetailsComponent,[{key:"onEditar",value:function onEditar(){this.editingMode=!0}},{key:"onCancelar",value:function onCancelar(){this.editingMode=!1}},{key:"onGuardar",value:function onGuardar(){this.editingMode=!1}},{key:"_parseSprints",value:function _parseSprints(e){this.sprintsDisponibles=e.map(function(e){return{label:""+e.Nombre,value:e.IdVersion}}),this.sprintsDisponibles.push({label:"Backlog",value:null})}},{key:"_parseWorkflows",value:function _parseWorkflows(e){this.workflowsDisponibles=e.map(function(e){return{label:""+e.Nombre,value:e.IdWorkflow}})}},{key:"_parseTipos",value:function _parseTipos(e){this.tiposDisponibles=e.map(function(e){return{label:""+e.Nombre,value:e.IdTipoUT}})}},{key:"_parseProyectos",value:function _parseProyectos(e){this.proyectosDisponibles=e.map(function(e){return{label:""+e.Nombre,value:e.IdProyecto}}),this.proyectosDisponibles.push({label:"<Sin proyecto>",value:null})}},{key:"_parseProductos",value:function _parseProductos(e){this.productosDisponibles=e.map(function(e){return{label:""+e.Nombre,value:e.IdProducto}})}},{key:"_mapSelected",value:function _mapSelected(e,i){this.sprintsDisponibles.forEach(function(t){t.value==e.UT.IdVersion&&(i.sprint=t.value)}),this.workflowsDisponibles.forEach(function(t){t.value==e.UT.IdWorkflow&&(i.workflow=t.value)}),this.tiposDisponibles.forEach(function(t){t.value==e.UT.IdTipoUT&&(i.tipo=t.value)}),this.proyectosDisponibles.forEach(function(t){t.value==e.UT.IdProyecto&&(i.proyecto=t.value)}),this.productosDisponibles.forEach(function(t){t.value==e.UT.IdProducto&&(i.producto=t.value)})}}]),DetailsComponent}(),w=function _applyDecoratedDescriptor$1(e,i,t,n,o){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,n){return n(e,i,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,i,r),r=null),r}(y.prototype,"combo",[g],{enumerable:!0,initializer:function initializer(){return null}}),h=y))||h);Reflect.defineMetadata("design:paramtypes",[t.ActivatedRoute,m],_);var D,T,U,M,k=(D=i.NgModule({imports:[t.RouterModule.forChild([{path:"",component:c},{path:":id",component:_}])],exports:[t.RouterModule]}))(T=function UtRoutingModule(){d(this,UtRoutingModule)})||T,x=(U=i.NgModule({imports:[o.TuneUpCoreModule,k],declarations:[c,_],providers:[m]}))(M=function UtModule(){d(this,UtModule)})||M;e.UtModule=x,e.DetailsComponent=_,e.DetailsService=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=tune-up.ut.umd.min.js.map
